
23-Dec-2017
running experiment on americano
info: CIFAR-10 nonstationary unshuffled k = 8 multimode_minibatch_history_CB 1000
===================
==== Loading data =======
==== Online Learning Phase =======
--> initializing
# case: 10000
# input: 3072
# label: 10
# embedding: 8
==== nonstationizing dataset =======
--> finish shuffling stationary input
n = 10
clustering diversity 1st half:
  Value    Count   Percent
      1      657     13.14%
      2      476      9.52%
      3      381      7.62%
      4      403      8.06%
      5      555     11.10%
      6      690     13.80%
      7      285      5.70%
      8      440      8.80%
      9      487      9.74%
     10      626     12.52%
clustering diversity 2nd half:
  Value    Count   Percent
      1      695     13.90%
      2      479      9.58%
      3      406      8.12%
      4      389      7.78%
      5      531     10.62%
      6      631     12.62%
      7      283      5.66%
      8      430      8.60%
      9      471      9.42%
     10      685     13.70%
clustering diversity 1st 1st half:
  Value    Count   Percent
      1      316     12.64%
      2      235      9.40%
      3      180      7.20%
      4      195      7.80%
      5      280     11.20%
      6      350     14.00%
      7      138      5.52%
      8      235      9.40%
      9      257     10.28%
     10      314     12.56%
clustering diversity 1st 2nd half:
  Value    Count   Percent
      1      341     13.64%
      2      241      9.64%
      3      201      8.04%
      4      208      8.32%
      5      275     11.00%
      6      340     13.60%
      7      147      5.88%
      8      205      8.20%
      9      230      9.20%
     10      312     12.48%
--> finish reclustering stationary input
seq_first: 

ans =

  Columns 1 through 2

                    6                    4

  Columns 3 through 4

                   10                    7

  Columns 5 through 6

                    5                    8

  Columns 7 through 8

                    2                    3

  Columns 9 through 10

                    9                    1

seq_second: 

ans =

  Columns 1 through 2

                    9                    3

  Columns 3 through 4

                    7                    6

  Columns 5 through 6

                    1                    4

  Columns 7 through 8

                   10                    5

  Columns 9 through 10

                    2                    8

==================
window: 1
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6      350    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7        0      0.00%
      8        0      0.00%
      9      230    100.00%
-> finish diversity installing, second half size: 420
  Value    Count   Percent
      1       75     17.86%
      2       46     10.95%
      3       38      9.05%
      4       23      5.48%
      5       34      8.10%
      6       54     12.86%
      7       17      4.05%
      8       25      5.95%
      9       49     11.67%
     10       59     14.05%
-> in summary for window :1
  Value    Count   Percent
      1       75      7.50%
      2       46      4.60%
      3       38      3.80%
      4       23      2.30%
      5       34      3.40%
      6      404     40.40%
      7       17      1.70%
      8       25      2.50%
      9      279     27.90%
     10       59      5.90%
----> finish generating nonstationary dist for window 1
==================
window: 2
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4      195    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3      201    100.00%
-> finish diversity installing, second half size: 604
  Value    Count   Percent
      1       82     13.58%
      2       58      9.60%
      3       44      7.28%
      4       50      8.28%
      5       83     13.74%
      6       90     14.90%
      7       31      5.13%
      8       45      7.45%
      9       39      6.46%
     10       82     13.58%
-> in summary for window :2
  Value    Count   Percent
      1       82      8.20%
      2       58      5.80%
      3      245     24.50%
      4      245     24.50%
      5       83      8.30%
      6       90      9.00%
      7       31      3.10%
      8       45      4.50%
      9       39      3.90%
     10       82      8.20%
----> finish generating nonstationary dist for window 2
==================
window: 3
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7        0      0.00%
      8        0      0.00%
      9        0      0.00%
     10      314    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7      147    100.00%
-> finish diversity installing, second half size: 539
  Value    Count   Percent
      1       71     13.17%
      2       48      8.91%
      3       52      9.65%
      4       37      6.86%
      5       61     11.32%
      6       64     11.87%
      7       33      6.12%
      8       53      9.83%
      9       47      8.72%
     10       73     13.54%
-> in summary for window :3
  Value    Count   Percent
      1       71      7.10%
      2       48      4.80%
      3       52      5.20%
      4       37      3.70%
      5       61      6.10%
      6       64      6.40%
      7      180     18.00%
      8       53      5.30%
      9       47      4.70%
     10      387     38.70%
----> finish generating nonstationary dist for window 3
==================
window: 4
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7      138    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6      340    100.00%
-> finish diversity installing, second half size: 522
  Value    Count   Percent
      1       79     15.13%
      2       57     10.92%
      3       46      8.81%
      4       43      8.24%
      5       54     10.34%
      6       60     11.49%
      7       23      4.41%
      8       46      8.81%
      9       43      8.24%
     10       71     13.60%
-> in summary for window :4
  Value    Count   Percent
      1       79      7.90%
      2       57      5.70%
      3       46      4.60%
      4       43      4.30%
      5       54      5.40%
      6      400     40.00%
      7      161     16.10%
      8       46      4.60%
      9       43      4.30%
     10       71      7.10%
----> finish generating nonstationary dist for window 4
==================
window: 5
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5      280    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1      341    100.00%
-> finish diversity installing, second half size: 379
  Value    Count   Percent
      1       44     11.61%
      2       30      7.92%
      3       34      8.97%
      4       34      8.97%
      5       47     12.40%
      6       42     11.08%
      7       26      6.86%
      8       32      8.44%
      9       41     10.82%
     10       49     12.93%
-> in summary for window :5
  Value    Count   Percent
      1      385     38.50%
      2       30      3.00%
      3       34      3.40%
      4       34      3.40%
      5      327     32.70%
      6       42      4.20%
      7       26      2.60%
      8       32      3.20%
      9       41      4.10%
     10       49      4.90%
----> finish generating nonstationary dist for window 5
==================
window: 6
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7        0      0.00%
      8      235    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4      208    100.00%
-> finish diversity installing, second half size: 557
  Value    Count   Percent
      1       80     14.36%
      2       52      9.34%
      3       44      7.90%
      4       44      7.90%
      5       50      8.98%
      6       71     12.75%
      7       38      6.82%
      8       55      9.87%
      9       53      9.52%
     10       70     12.57%
-> in summary for window :6
  Value    Count   Percent
      1       80      8.00%
      2       52      5.20%
      3       44      4.40%
      4      252     25.20%
      5       50      5.00%
      6       71      7.10%
      7       38      3.80%
      8      290     29.00%
      9       53      5.30%
     10       70      7.00%
----> finish generating nonstationary dist for window 6
==================
window: 7
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2      235    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7        0      0.00%
      8        0      0.00%
      9        0      0.00%
     10      312    100.00%
-> finish diversity installing, second half size: 453
  Value    Count   Percent
      1       56     12.36%
      2       43      9.49%
      3       33      7.28%
      4       26      5.74%
      5       47     10.38%
      6       60     13.25%
      7       36      7.95%
      8       46     10.15%
      9       44      9.71%
     10       62     13.69%
-> in summary for window :7
  Value    Count   Percent
      1       56      5.60%
      2      278     27.80%
      3       33      3.30%
      4       26      2.60%
      5       47      4.70%
      6       60      6.00%
      7       36      3.60%
      8       46      4.60%
      9       44      4.40%
     10      374     37.40%
----> finish generating nonstationary dist for window 7
==================
window: 8
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3      180    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5      275    100.00%
-> finish diversity installing, second half size: 545
  Value    Count   Percent
      1       80     14.68%
      2       47      8.62%
      3       41      7.52%
      4       48      8.81%
      5       52      9.54%
      6       73     13.39%
      7       21      3.85%
      8       58     10.64%
      9       56     10.28%
     10       69     12.66%
-> in summary for window :8
  Value    Count   Percent
      1       80      8.00%
      2       47      4.70%
      3      221     22.10%
      4       48      4.80%
      5      327     32.70%
      6       73      7.30%
      7       21      2.10%
      8       58      5.80%
      9       56      5.60%
     10       69      6.90%
----> finish generating nonstationary dist for window 8
==================
window: 9
-> finish first main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2        0      0.00%
      3        0      0.00%
      4        0      0.00%
      5        0      0.00%
      6        0      0.00%
      7        0      0.00%
      8        0      0.00%
      9      257    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      1        0      0.00%
      2      241    100.00%
-> finish diversity installing, second half size: 502
  Value    Count   Percent
      1       69     13.75%
      2       57     11.35%
      3       40      7.97%
      4       36      7.17%
      5       55     10.96%
      6       58     11.55%
      7       28      5.58%
      8       31      6.18%
      9       48      9.56%
     10       80     15.94%
-> in summary for window :9
  Value    Count   Percent
      1       69      6.90%
      2      298     29.80%
      3       40      4.00%
      4       36      3.60%
      5       55      5.50%
      6       58      5.80%
      7       28      2.80%
      8       31      3.10%
      9      305     30.50%
     10       80      8.00%
----> finish generating nonstationary dist for window 9
==================
window: 10
-> finish first main cluster chosing
  Value    Count   Percent
      1      316    100.00%
-> finish second main cluster chosing
  Value    Count   Percent
      0        2      0.98%
      8      203     99.02%
-> finish diversity installing, second half size: 479
  Value    Count   Percent
      1       59     12.32%
      2       41      8.56%
      3       34      7.10%
      4       48     10.02%
      5       48     10.02%
      6       59     12.32%
      7       30      6.26%
      8       39      8.14%
      9       51     10.65%
     10       70     14.61%
-> in summary for window :10
  Value    Count   Percent
      0        2      0.20%
      1      375     37.50%
      2       41      4.10%
      3       34      3.40%
      4       48      4.80%
      5       48      4.80%
      6       59      5.90%
      7       30      3.00%
      8      242     24.20%
      9       51      5.10%
     10       70      7.00%
----> finish generating nonstationary dist for window 10
-> in summary for all data
  Value    Count   Percent
      0        2      0.02%
      1     1352     13.52%
      2      955      9.55%
      3      787      7.87%
      4      792      7.92%
      5     1086     10.86%
      6     1321     13.21%
      7      568      5.68%
      8      868      8.68%
      9      958      9.58%
     10     1311     13.11%
==== Pretraining Phase =======
===== Training starting for 1 =====
training size is 2000
===== Training finished for 1 =====
===== Training starting for 1 =====
training size is 259
===== Training finished for 1 =====
===== Training starting for 2 =====
training size is 245
===== Training finished for 2 =====
===== Training starting for 3 =====
training size is 324
===== Training finished for 3 =====
===== Training starting for 4 =====
training size is 197
===== Training finished for 4 =====
===== Training starting for 5 =====
training size is 352
===== Training finished for 5 =====
===== Training starting for 6 =====
training size is 275
===== Training finished for 6 =====
===== Training starting for 7 =====
training size is 162
===== Training finished for 7 =====
===== Training starting for 8 =====
training size is 186
===== Training finished for 8 =====
<-- initializing done
--> online learning
- iteration 1
case 1
case 2
case 3
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
case 43
case 44
case 45
case 46
case 47
case 48
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
case 59
case 60
case 61
case 62
case 63
case 64
case 65
case 66
case 67
case 68
case 69
case 70
case 71
case 72
case 73
case 74
case 75
case 76
case 77
case 78
case 79
case 80
case 81
case 82
case 83
case 84
case 85
case 86
case 87
case 88
case 89
case 90
case 91
case 92
case 93
case 94
case 95
case 96
case 97
case 98
case 99
case 100
> 1% finished in 1363.634 s
---- accuracy: 0.06 sub: 0           0    0.090909           0     0.27273           0    0.090909    0.076923           0           0
{Error using save
Error closing file
/home/sunnylin/Dropbox/Git/IBM_ABaCoDE/log/23-Dec-2017/F_main_classifier_CIFAR-10_nonstationary_unshuffled_k_8_multimode_minibatch_history_CB_1000_americano.mat.

Error in F_main_classifier (line 491)
            save([path 'log/' dateToday
            '/F_main_classifier_' dataset '_' dist '_' rewd
            '_k_' num2str(k) '_' type '_' num2str(window)
            '_' loc]);

Error in gcpcifar1 (line 23)
F_main_classifier(1, 'CIFAR-10',
'nonstationary','unshuffled', 8,
'multimode_minibatch_history_CB', 1000, 'americano', 10000)

Error in americanomnistrandunshuffled (line 70)
gcpcifar1
} 
IdleTimeout has been reached.
Parallel pool using the 'local' profile is shutting down.

gpuDevice(5)

ans = 

  CUDADevice with properties:

                      Name: 'Tesla C2075'
                     Index: 5
         ComputeCapability: '2.0'
            SupportsDouble: 1
             DriverVersion: 8
            ToolkitVersion: 7.5000
        MaxThreadsPerBlock: 1024
          MaxShmemPerBlock: 49152
        MaxThreadBlockSize: [1024 1024 64]
               MaxGridSize: [65535 65535 65535]
                 SIMDWidth: 32
               TotalMemory: 5.5585e+09
           AvailableMemory: 5.4744e+09
       MultiprocessorCount: 14
              ClockRateKHz: 1147000
               ComputeMode: 'Default'
      GPUOverlapsTransfers: 1
    KernelExecutionTimeout: 0
          CanMapHostMemory: 1
           DeviceSupported: 1
            DeviceSelected: 1

americanomnisthalfunshuffled
F_main_classifier(1, MNIST-s, halfnegativenonstationary,unshuffled, 1, baseline, 1000,americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativenonstationary,unshuffled, 1, universal_embedding, 1000,americano, 20000)
F_main_classifier(1,MNIST-s, halfnegativenonstationary, unshuffled, 2, minibatch_embedding,1000,americano, 20000)
F_main_classifier(1,MNIST-s, halfnegativenonstationary, unshuffled, 2, online_embedding,1000,americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativenonstationary,unshuffled, 2, minibatch_history_CB, 1000, americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativenonstationary,unshuffled, 2, full_history_CB, 1000, americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativenonstationary,unshuffled, 2, multimode_minibatch_history_CB, 1000,americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativenonstationary,unshuffled, 2, multimode_full_history_CB, 1000,americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativestationary,unshuffled, 1, baseline, 1000,americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativestationary,unshuffled, 1, universal_embedding, 1000,americano, 20000)
F_main_classifier(1,MNIST-s, halfnegativestationary, unshuffled, 2, minibatch_embedding,1000,americano, 20000)
F_main_classifier(1,MNIST-s, halfnegativestationary, unshuffled, 2, online_embedding,1000,americano, 20000)
F_main_classifier(1, MNIST-s, halfnegativestationary,unshuffled, 2, minibatch_history_CB, 1000, americano, 20000)
mkdir: cannot create directory ‘/home/sunnylin/Dropbox/Git/IBM_ABaCoDE/log/24-Dec-2017’: File exists
